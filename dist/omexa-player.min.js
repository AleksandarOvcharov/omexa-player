/*!
 * Omexa Player v1.0.0
 * Modern video player for web
 * https://github.com/AleksandarOvcharov/omexa-player
 * 
 * Copyright (c) 2025
 * Released under the MIT License
 */
!function(){"use strict";const e={play:'<svg viewBox="0 0 24 24" fill="currentColor">\n    <path d="M8 5v14l11-7z"/>\n  </svg>',pause:'<svg viewBox="0 0 24 24" fill="currentColor">\n    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>\n  </svg>',rewind:'<svg viewBox="0 0 24 24" fill="currentColor">\n    <path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"/>\n  </svg>',fastForward:'<svg viewBox="0 0 24 24" fill="currentColor">\n    <path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/>\n  </svg>',fullscreen:'<svg viewBox="0 0 24 24" fill="currentColor">\n    <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>\n  </svg>',exitFullscreen:'<svg viewBox="0 0 24 24" fill="currentColor">\n    <path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/>\n  </svg>',volumeUp:'<svg viewBox="0 0 24 24" fill="currentColor">\n    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>\n  </svg>',volumeMute:'<svg viewBox="0 0 24 24" fill="currentColor">\n    <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>\n  </svg>',settings:'<svg viewBox="0 0 24 24" fill="currentColor">\n    <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>\n  </svg>'};class t{constructor(e,t,n={}){this.container=e,this.videoId=this.extractVideoId(t),this.options=n,this.player=null,this.isReady=!1,this.callbacks={},this.loadYouTubeAPI()}extractVideoId(e){if(!e)return null;if(11===e.length&&!e.includes("."))return e;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/v\/([a-zA-Z0-9_-]{11})/];for(const n of t){const t=e.match(n);if(t)return t[1]}return null}loadYouTubeAPI(){if(window.YT&&window.YT.Player)return void this.initPlayer();if(!window.ytApiLoading){window.ytApiLoading=!0;const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.head.appendChild(e)}const e=()=>{window.YT&&window.YT.Player?this.initPlayer():setTimeout(e,100)};e()}initPlayer(){const e=document.createElement("div");e.id=`omexa-yt-${Date.now()}`,this.container.appendChild(e),this.player=new window.YT.Player(e.id,{height:"100%",width:"100%",videoId:this.videoId,playerVars:{autoplay:this.options.autoplay?1:0,controls:0,disablekb:1,fs:0,iv_load_policy:3,modestbranding:1,playsinline:1,rel:0,showinfo:0},events:{onReady:()=>{this.isReady=!0,this.trigger("ready")},onStateChange:e=>{this.handleStateChange(e)},onError:e=>{this.trigger("error",e.data)}}})}handleStateChange(e){switch(e.data){case window.YT.PlayerState.UNSTARTED:this.trigger("loadstart");break;case window.YT.PlayerState.ENDED:this.trigger("ended");break;case window.YT.PlayerState.PLAYING:this.trigger("play"),this.trigger("playing");break;case window.YT.PlayerState.PAUSED:this.trigger("pause");break;case window.YT.PlayerState.BUFFERING:this.trigger("waiting");break;case window.YT.PlayerState.CUED:this.trigger("loadeddata")}}play(){this.isReady&&this.player&&this.player.playVideo()}pause(){this.isReady&&this.player&&this.player.pauseVideo()}seek(e){this.isReady&&this.player&&this.player.seekTo(e,!0)}setVolume(e){this.isReady&&this.player&&this.player.setVolume(100*e)}mute(){this.isReady&&this.player&&this.player.mute()}unmute(){this.isReady&&this.player&&this.player.unMute()}getCurrentTime(){return this.isReady&&this.player&&this.player.getCurrentTime()||0}getDuration(){return this.isReady&&this.player&&this.player.getDuration()||0}getVolume(){return this.isReady&&this.player?(this.player.getVolume()||0)/100:1}isMuted(){return!(!this.isReady||!this.player)&&this.player.isMuted()}isPaused(){if(this.isReady&&this.player){return this.player.getPlayerState()!==window.YT.PlayerState.PLAYING}return!0}getLoadedFraction(){return this.isReady&&this.player&&this.player.getVideoLoadedFraction()||0}on(e,t){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t)}off(e,t){if(this.callbacks[e]){const n=this.callbacks[e].indexOf(t);n>-1&&this.callbacks[e].splice(n,1)}}trigger(e,t){this.callbacks[e]&&this.callbacks[e].forEach((e=>e(t)))}destroy(){this.player&&(this.player.destroy(),this.player=null),this.callbacks={},this.isReady=!1}}class n{constructor(e){this.player=e,this.controlsContainer=null,this.progressContainer=null,this.progressBar=null,this.bufferBar=null,this.playButton=null,this.timeDisplay=null,this.volumeButton=null,this.volumeSlider=null,this.volumeBar=null,this.fullscreenButton=null,this.rewindButton=null,this.fastForwardButton=null,this.isDragging=!1,this.lastVolume=1,this.isFullscreen=!1,this.inactivityTimer=null,this.isHovering=!1,this.createControls(),this.bindEvents()}createControls(){this.controlsContainer=document.createElement("div"),this.controlsContainer.className="omexa-controls",this.progressContainer=document.createElement("div"),this.progressContainer.className="omexa-progress-container",this.bufferBar=document.createElement("div"),this.bufferBar.className="omexa-progress-buffer",this.progressBar=document.createElement("div"),this.progressBar.className="omexa-progress-bar",this.progressContainer.appendChild(this.bufferBar),this.progressContainer.appendChild(this.progressBar);const e=document.createElement("div");e.className="omexa-controls-row";const t=document.createElement("div");t.className="omexa-controls-left",this.rewindButton=this.createButton("rewind","omexa-btn-rewind"),this.playButton=this.createButton("play","omexa-btn-play"),this.fastForwardButton=this.createButton("fastForward","omexa-btn-fast-forward"),this.timeDisplay=document.createElement("div"),this.timeDisplay.className="omexa-time",this.timeDisplay.textContent="0:00 / 0:00",t.appendChild(this.rewindButton),t.appendChild(this.playButton),t.appendChild(this.fastForwardButton),t.appendChild(this.timeDisplay);const n=document.createElement("div");n.className="omexa-controls-right";const i=document.createElement("div");return i.className="omexa-volume-container",this.volumeButton=this.createButton("volumeUp","omexa-btn-volume"),this.volumeSlider=document.createElement("div"),this.volumeSlider.className="omexa-volume-slider",this.volumeBar=document.createElement("div"),this.volumeBar.className="omexa-volume-bar",this.volumeSlider.appendChild(this.volumeBar),i.appendChild(this.volumeButton),i.appendChild(this.volumeSlider),this.fullscreenButton=this.createButton("fullscreen","omexa-btn-fullscreen"),n.appendChild(i),n.appendChild(this.fullscreenButton),e.appendChild(t),e.appendChild(n),this.controlsContainer.appendChild(this.progressContainer),this.controlsContainer.appendChild(e),this.controlsContainer}createButton(t,n){const i=document.createElement("button");return i.className=`omexa-btn ${n}`,i.innerHTML=e[t],i.type="button",i}bindEvents(){this.playButton.addEventListener("click",(()=>{this.player.isPaused()?this.player.play():this.player.pause()})),this.rewindButton.addEventListener("click",(()=>{const e=this.player.getCurrentTime();this.player.seek(Math.max(0,e-10))})),this.fastForwardButton.addEventListener("click",(()=>{const e=this.player.getCurrentTime(),t=this.player.getDuration();this.player.seek(Math.min(t,e+10))})),this.progressContainer.addEventListener("mousedown",this.handleProgressMouseDown.bind(this)),this.progressContainer.addEventListener("mousemove",this.handleProgressMouseMove.bind(this)),document.addEventListener("mouseup",this.handleProgressMouseUp.bind(this)),this.volumeButton.addEventListener("click",(()=>{this.player.isMuted()||0===this.player.getVolume()?(this.player.unmute(),this.player.setVolume(this.lastVolume)):(this.lastVolume=this.player.getVolume(),this.player.mute())})),this.volumeSlider.addEventListener("mousedown",this.handleVolumeMouseDown.bind(this)),this.volumeSlider.addEventListener("mousemove",this.handleVolumeMouseMove.bind(this)),document.addEventListener("mouseup",this.handleVolumeMouseUp.bind(this)),this.fullscreenButton.addEventListener("click",(()=>{this.toggleFullscreen()})),document.addEventListener("keydown",this.handleKeydown.bind(this)),document.addEventListener("fullscreenchange",this.handleFullscreenChange.bind(this)),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange.bind(this)),document.addEventListener("mozfullscreenchange",this.handleFullscreenChange.bind(this)),document.addEventListener("MSFullscreenChange",this.handleFullscreenChange.bind(this)),this.player.container.addEventListener("mousemove",this.handleMouseActivity.bind(this)),this.player.container.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),this.player.container.addEventListener("mouseleave",this.handleMouseLeave.bind(this))}handleProgressMouseDown(e){this.isDragging=!0,this.updateProgress(e)}handleProgressMouseMove(e){this.isDragging&&this.updateProgress(e)}handleProgressMouseUp(){this.isDragging=!1}updateProgress(e){const t=this.progressContainer.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*this.player.getDuration();this.player.seek(Math.max(0,Math.min(this.player.getDuration(),n)))}handleVolumeMouseDown(e){this.isDraggingVolume=!0,this.updateVolume(e)}handleVolumeMouseMove(e){this.isDraggingVolume&&this.updateVolume(e)}handleVolumeMouseUp(){this.isDraggingVolume=!1}updateVolume(e){const t=this.volumeSlider.getBoundingClientRect(),n=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width));this.player.setVolume(n),this.player.unmute()}handleKeydown(e){if(this.isHovering||this.isFullscreen)switch(e.code){case"Space":case"KeyK":e.preventDefault(),this.player.isPaused()?this.player.play():this.player.pause(),this.isFullscreen&&(this.player.container.classList.remove("inactive"),this.handleMouseActivity());break;case"Digit0":case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":e.preventDefault();const t=parseInt(e.code.replace("Digit",""))/10*this.player.getDuration();this.player.seek(t),this.isFullscreen&&(this.player.container.classList.remove("inactive"),this.handleMouseActivity());break;case"ArrowLeft":e.preventDefault();const n=this.player.getCurrentTime();this.player.seek(Math.max(0,n-5)),this.isFullscreen&&(this.player.container.classList.remove("inactive"),this.handleMouseActivity());break;case"ArrowRight":e.preventDefault();const i=this.player.getCurrentTime(),s=this.player.getDuration();this.player.seek(Math.min(s,i+5)),this.isFullscreen&&(this.player.container.classList.remove("inactive"),this.handleMouseActivity());break;case"ArrowUp":e.preventDefault();const a=Math.min(1,this.player.getVolume()+.1);this.player.setVolume(a),this.player.unmute(),this.isFullscreen&&(this.player.container.classList.remove("inactive"),this.handleMouseActivity());break;case"ArrowDown":e.preventDefault();const r=Math.max(0,this.player.getVolume()-.1);this.player.setVolume(r),this.isFullscreen&&(this.player.container.classList.remove("inactive"),this.handleMouseActivity());break;case"KeyJ":e.preventDefault();const o=this.player.getCurrentTime();this.player.seek(Math.max(0,o-10)),this.isFullscreen&&(this.player.container.classList.remove("inactive"),this.handleMouseActivity());break;case"KeyL":e.preventDefault();const l=this.player.getCurrentTime(),h=this.player.getDuration();this.player.seek(Math.min(h,l+10)),this.isFullscreen&&(this.player.container.classList.remove("inactive"),this.handleMouseActivity());break;case"KeyF":e.preventDefault(),this.toggleFullscreen();break;case"KeyM":e.preventDefault(),this.player.isMuted()?this.player.unmute():this.player.mute(),this.isFullscreen&&(this.player.container.classList.remove("inactive"),this.handleMouseActivity());break;case"Escape":this.isFullscreen&&this.exitFullscreen()}}toggleFullscreen(){this.isFullscreen?this.exitFullscreen():this.enterFullscreen()}enterFullscreen(){const e=this.player.container;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():(e.classList.add("fullscreen"),this.isFullscreen=!0,this.updateFullscreenUI())}exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():(this.player.container.classList.remove("fullscreen"),this.isFullscreen=!1,this.updateFullscreenUI())}handleFullscreenChange(){const e=(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===this.player.container;this.isFullscreen=e,this.updateFullscreenUI(),e?this.player.container.classList.add("fullscreen"):this.player.container.classList.remove("fullscreen")}updateFullscreenUI(){this.isFullscreen?this.fullscreenButton.innerHTML=e.exitFullscreen:this.fullscreenButton.innerHTML=e.fullscreen}handleMouseActivity(){this.isFullscreen&&(this.player.container.classList.remove("inactive"),clearTimeout(this.inactivityTimer),this.inactivityTimer=setTimeout((()=>{this.isFullscreen&&this.player.container.classList.add("inactive")}),3e3))}handleMouseEnter(){this.clearOtherPlayersHoverState(),this.isHovering=!0,this.handleMouseActivity()}handleMouseLeave(){this.isHovering=!1,this.isFullscreen&&(clearTimeout(this.inactivityTimer),this.inactivityTimer=setTimeout((()=>{this.player.container.classList.add("inactive")}),1e3))}clearOtherPlayersHoverState(){document.querySelectorAll(".omexa-player").forEach((e=>{if(e!==this.player.container&&e.omexaPlayer){const t=e.omexaPlayer.controls;t&&t!==this&&(t.isHovering=!1)}}))}updateTime(){const e=this.player.getCurrentTime(),t=this.player.getDuration();if(t>0&&!this.isDragging){const n=e/t*100;this.progressBar.style.width=`${n}%`}const n=this.player.getLoadedFraction();n&&(this.bufferBar.style.width=100*n+"%"),this.timeDisplay.textContent=`${this.formatTime(e)} / ${this.formatTime(t)}`}updatePlayButton(){this.player.isPaused()?this.playButton.innerHTML=e.play:this.playButton.innerHTML=e.pause}updateVolumeControls(){const t=this.player.getVolume(),n=this.player.isMuted();this.volumeButton.innerHTML=n||0===t?e.volumeMute:e.volumeUp,this.volumeBar.style.width=(n?0:100*t)+"%"}formatTime(e){if(!e||isNaN(e))return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`}show(){this.controlsContainer.classList.add("active")}hide(){this.controlsContainer.classList.remove("active")}destroy(){this.controlsContainer&&this.controlsContainer.parentNode&&this.controlsContainer.parentNode.removeChild(this.controlsContainer),document.removeEventListener("mouseup",this.handleProgressMouseUp.bind(this)),document.removeEventListener("mouseup",this.handleVolumeMouseUp.bind(this)),document.removeEventListener("keydown",this.handleKeydown.bind(this)),document.removeEventListener("fullscreenchange",this.handleFullscreenChange.bind(this)),document.removeEventListener("webkitfullscreenchange",this.handleFullscreenChange.bind(this)),document.removeEventListener("mozfullscreenchange",this.handleFullscreenChange.bind(this)),document.removeEventListener("MSFullscreenChange",this.handleFullscreenChange.bind(this)),clearTimeout(this.inactivityTimer)}}class i{constructor(e,t={}){this.container="string"==typeof e?document.querySelector(e):e,this.options={autoplay:!1,muted:!1,volume:1,...t},this.container&&this.parseDataAttributes(),this.mediaElement=null,this.youtubePlayer=null,this.controls=null,this.isYouTube=!1,this.isReady=!1,this.currentTime=0,this.duration=0,this.volume=this.options.volume,this.muted=this.options.muted,this.updateInterval=null,this.init()}parseDataAttributes(){const e=this.container.dataset.type,t=this.container.dataset.src,n=this.container.dataset.autoplay;t&&(this.options.src=t),e&&(this.options.type=e),void 0!==n&&(this.options.autoplay="true"===n)}init(){this.container&&this.options.src?(this.injectStyles(),this.setupContainer(),this.detectVideoType(),this.createPlayer()):this.showError("Container or source not found")}injectStyles(){if(document.querySelector("#omexa-player-styles"))return;const e=document.createElement("style");e.id="omexa-player-styles",e.textContent="\n.omexa-player {\n    position: relative;\n    width: 640px;\n    max-width: 100%;\n    background: #000;\n    border-radius: 8px;\n    overflow: hidden;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n    line-height: 1;\n    transition: box-shadow 0.3s ease;\n}\n\n.omexa-player:hover {\n    box-shadow: 0 0 0 2px rgba(255, 107, 107, 0.5);\n}\n\n    .omexa-player-wrapper {\n        position: relative;\n        width: 640px;\n        max-width: 100%;\n    }\n\n.omexa-player * {\n  box-sizing: border-box;\n}\n\n.omexa-player video {\n  width: 100%;\n  height: auto;\n  display: block;\n}\n\n.omexa-player-youtube {\n  position: relative;\n  width: 100%;\n  height: 0;\n  padding-bottom: 56.25%; /* 16:9 aspect ratio */\n}\n\n.omexa-player-youtube iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n\n.omexa-player-youtube:hover iframe {\n  pointer-events: auto;\n}\n\n\n\n.omexa-controls {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: linear-gradient(transparent, rgba(0,0,0,0.7));\n  padding: 20px 16px 16px;\n  transform: translateY(100%);\n  transition: transform 0.3s ease;\n}\n\n.omexa-player:hover .omexa-controls,\n.omexa-controls.active {\n  transform: translateY(0);\n}\n\n.omexa-progress-container {\n  position: relative;\n  height: 4px;\n  background: rgba(255,255,255,0.3);\n  border-radius: 2px;\n  margin-bottom: 12px;\n  cursor: pointer;\n}\n\n.omexa-progress-bar {\n  height: 100%;\n  background: #ff6b6b;\n  border-radius: 2px;\n  width: 0%;\n  transition: width 0.1s ease;\n}\n\n.omexa-progress-buffer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  background: rgba(255,255,255,0.2);\n  border-radius: 2px;\n  width: 0%;\n}\n\n.omexa-controls-row {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.omexa-controls-left {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.omexa-controls-right {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-left: auto;\n}\n\n.omexa-btn {\n  background: none;\n  border: none;\n  color: white;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background-color 0.2s ease;\n  width: 40px;\n  height: 40px;\n}\n\n.omexa-btn:hover {\n  background: rgba(255,255,255,0.1);\n}\n\n.omexa-btn svg {\n  width: 20px;\n  height: 20px;\n}\n\n.omexa-btn-play svg {\n  width: 24px;\n  height: 24px;\n}\n\n.omexa-time {\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n  white-space: nowrap;\n  min-width: 80px;\n}\n\n.omexa-volume-container {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.omexa-volume-slider {\n  width: 60px;\n  height: 4px;\n  background: rgba(255,255,255,0.3);\n  border-radius: 2px;\n  position: relative;\n  cursor: pointer;\n}\n\n.omexa-volume-bar {\n  height: 100%;\n  background: white;\n  border-radius: 2px;\n  width: 100%;\n  transition: width 0.1s ease;\n}\n\n.omexa-loading {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n  z-index: 10;\n  opacity: 0;\n  animation: omexa-fade-in 0.3s ease-out forwards;\n}\n\n.omexa-loading-spinner {\n  width: 48px;\n  height: 48px;\n  border: 4px solid rgba(255, 255, 255, 0.2);\n  border-top: 4px solid #ff6b6b;\n  border-radius: 50%;\n  animation: omexa-spin 0.8s linear infinite;\n  filter: drop-shadow(0 0 8px rgba(255, 107, 107, 0.3));\n}\n\n.omexa-loading-text {\n  color: white;\n  font-size: 15px;\n  font-weight: 500;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n  letter-spacing: 0.5px;\n}\n\n@keyframes omexa-spin {\n  0% { \n    transform: rotate(0deg); \n  }\n  100% { \n    transform: rotate(360deg); \n  }\n}\n\n@keyframes omexa-fade-in {\n  0% { \n    opacity: 0;\n    transform: translate(-50%, -50%) scale(0.8);\n  }\n  100% { \n    opacity: 1;\n    transform: translate(-50%, -50%) scale(1);\n  }\n}\n\n.omexa-error {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: #ff6b6b;\n  text-align: center;\n  font-size: 14px;\n}\n\n.omexa-player.fullscreen {\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100vw !important;\n  height: 100vh !important;\n  z-index: 999999 !important;\n  border-radius: 0 !important;\n}\n\n.omexa-player.fullscreen video {\n  height: 100vh;\n  object-fit: contain;\n}\n\n/* Hide controls when inactive in fullscreen */\n.omexa-player.fullscreen .omexa-controls {\n  opacity: 1;\n  transition: opacity 0.3s ease;\n}\n\n.omexa-player.fullscreen.inactive .omexa-controls {\n  opacity: 0;\n  pointer-events: none;\n}\n\n.omexa-player.fullscreen.inactive {\n  cursor: none;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .omexa-controls {\n    padding: 16px 12px 12px;\n  }\n  \n  .omexa-controls-row {\n    gap: 8px;\n  }\n  \n  .omexa-controls-left {\n    gap: 4px;\n  }\n  \n  .omexa-controls-right {\n    gap: 4px;\n  }\n  \n  .omexa-btn {\n    width: 36px;\n    height: 36px;\n    padding: 6px;\n  }\n  \n  .omexa-btn svg {\n    width: 18px;\n    height: 18px;\n  }\n  \n  .omexa-btn-play svg {\n    width: 20px;\n    height: 20px;\n  }\n  \n  .omexa-time {\n    font-size: 12px;\n    min-width: 70px;\n  }\n  \n  .omexa-volume-slider {\n    width: 50px;\n  }\n}\n\n@media (max-width: 480px) {\n  .omexa-volume-container {\n    display: none;\n  }\n  \n  .omexa-time {\n    min-width: 60px;\n  }\n}\n\n.omexa-branding {\n  text-align: right;\n  padding: 6px 8px 0;\n  font-size: 10px;\n  color: #999;\n  font-weight: 400;\n  text-decoration: none;\n  opacity: 0.7;\n  transition: opacity 0.2s ease;\n}\n\n.omexa-branding:hover {\n  opacity: 1;\n  color: #666;\n}\n\n.omexa-branding a {\n  color: inherit;\n  text-decoration: none;\n}\n\n.omexa-branding a:hover {\n  text-decoration: underline;\n}\n",document.head.appendChild(e)}setupContainer(){if(this.container.parentElement&&this.container.parentElement.classList.contains("omexa-player-wrapper"))this.wrapper=this.container.parentElement;else{const e=document.createElement("div");e.className="omexa-player-wrapper",this.container.parentNode.insertBefore(e,this.container),e.appendChild(this.container),this.wrapper=e}this.container.className="omexa-player",this.container.innerHTML=""}detectVideoType(){const e=this.options.src;"youtube"===this.options.type||this.isYouTubeUrl(e)?this.isYouTube=!0:this.isYouTube=!1}isYouTubeUrl(e){return[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)/,/youtube\.com\/v\//].some((t=>t.test(e)))}createPlayer(){this.showLoading(),this.isYouTube?this.createYouTubePlayer():this.createVideoPlayer(),this.createControls()}createVideoPlayer(){this.mediaElement=document.createElement("video"),this.mediaElement.src=this.options.src,this.mediaElement.preload="metadata",this.mediaElement.volume=this.volume,this.mediaElement.muted=this.muted,this.options.autoplay&&(this.mediaElement.autoplay=!0,this.mediaElement.muted=!0),this.container.appendChild(this.mediaElement),this.bindVideoEvents()}createYouTubePlayer(){const e=document.createElement("div");e.className="omexa-player-youtube",this.container.appendChild(e),this.youtubePlayer=new t(e,this.options.src,{autoplay:this.options.autoplay}),this.bindYouTubeEvents()}bindVideoEvents(){this.mediaElement&&(this.mediaElement.addEventListener("loadstart",(()=>{})),this.mediaElement.addEventListener("loadedmetadata",(()=>{this.duration=this.mediaElement.duration,this.isReady=!0,this.hideLoading(),this.startTimeUpdates()})),this.mediaElement.addEventListener("play",(()=>{this.controls&&this.controls.updatePlayButton()})),this.mediaElement.addEventListener("pause",(()=>{this.controls&&this.controls.updatePlayButton()})),this.mediaElement.addEventListener("volumechange",(()=>{this.controls&&this.controls.updateVolumeControls()})),this.mediaElement.addEventListener("timeupdate",(()=>{this.currentTime=this.mediaElement.currentTime})),this.mediaElement.addEventListener("error",(e=>{this.showError("Failed to load video")})),this.mediaElement.addEventListener("ended",(()=>{this.controls&&this.controls.updatePlayButton()})),this.mediaElement.addEventListener("waiting",(()=>{this.showBuffering()})),this.mediaElement.addEventListener("canplay",(()=>{this.hideBuffering()})),this.mediaElement.addEventListener("playing",(()=>{this.hideBuffering()})))}bindYouTubeEvents(){this.youtubePlayer&&(this.youtubePlayer.on("ready",(()=>{this.hideLoading(),this.isReady=!0,this.startTimeUpdates()})),this.youtubePlayer.on("play",(()=>{this.controls&&this.controls.updatePlayButton()})),this.youtubePlayer.on("pause",(()=>{this.controls&&this.controls.updatePlayButton()})),this.youtubePlayer.on("ended",(()=>{this.controls&&this.controls.updatePlayButton()})),this.youtubePlayer.on("waiting",(()=>{this.showBuffering()})),this.youtubePlayer.on("playing",(()=>{this.hideBuffering()})),this.youtubePlayer.on("error",(e=>{let t="Failed to load YouTube video";switch(e){case 2:t="Invalid YouTube video ID";break;case 5:t="Video cannot be played in HTML5 player";break;case 100:t="Video not found or private";break;case 101:case 150:t="Video embedding disabled by owner";break;default:t=`YouTube error (${e}): Video unavailable`}this.showError(t)})))}createControls(){this.controls=new n(this),this.container.appendChild(this.controls.controlsContainer),this.addBranding()}addBranding(){const e=this.wrapper.querySelector(".omexa-branding");e&&e.remove();const t=document.createElement("div");t.className="omexa-branding",t.innerHTML='Powered by <a href="https://github.com/your-username/omexa-player" target="_blank">Omexa Player</a>',this.wrapper.appendChild(t)}startTimeUpdates(){this.updateInterval&&clearInterval(this.updateInterval),this.updateInterval=setInterval((()=>{this.controls&&(this.controls.updateTime(),this.controls.updateVolumeControls())}),100)}showLoading(){this.hideError();const e=document.createElement("div");e.className="omexa-loading",e.id="omexa-loading";const t=document.createElement("div");t.className="omexa-loading-spinner";const n=document.createElement("div");n.className="omexa-loading-text",n.textContent="Loading...",e.appendChild(t),e.appendChild(n),this.container.appendChild(e)}hideLoading(){const e=this.container.querySelector("#omexa-loading");e&&e.remove()}showBuffering(){if(!this.isReady)return;if(this.container.querySelector("#omexa-buffering"))return;const e=document.createElement("div");e.className="omexa-loading",e.id="omexa-buffering";const t=document.createElement("div");t.className="omexa-loading-spinner";const n=document.createElement("div");n.className="omexa-loading-text",n.textContent="Loading...",e.appendChild(t),e.appendChild(n),this.container.appendChild(e)}hideBuffering(){const e=this.container.querySelector("#omexa-buffering");e&&e.remove()}showError(e){this.hideLoading();const t=document.createElement("div");t.className="omexa-error",t.textContent=e,t.id="omexa-error",this.container.appendChild(t)}hideError(){const e=this.container.querySelector("#omexa-error");e&&e.remove()}play(){this.isYouTube&&this.youtubePlayer?this.youtubePlayer.play():this.mediaElement&&this.mediaElement.play().catch((()=>{}))}pause(){this.isYouTube&&this.youtubePlayer?this.youtubePlayer.pause():this.mediaElement&&this.mediaElement.pause()}seek(e){this.isYouTube&&this.youtubePlayer?this.youtubePlayer.seek(e):this.mediaElement&&(this.mediaElement.currentTime=e)}setVolume(e){this.volume=Math.max(0,Math.min(1,e)),this.isYouTube&&this.youtubePlayer?this.youtubePlayer.setVolume(this.volume):this.mediaElement&&(this.mediaElement.volume=this.volume)}getVolume(){return this.isYouTube&&this.youtubePlayer?this.youtubePlayer.getVolume():this.mediaElement?this.mediaElement.volume:this.volume}mute(){this.isYouTube&&this.youtubePlayer?this.youtubePlayer.mute():this.mediaElement&&(this.mediaElement.muted=!0)}unmute(){this.isYouTube&&this.youtubePlayer?this.youtubePlayer.unmute():this.mediaElement&&(this.mediaElement.muted=!1)}isMuted(){return this.isYouTube&&this.youtubePlayer?this.youtubePlayer.isMuted():!!this.mediaElement&&this.mediaElement.muted}isPaused(){return this.isYouTube&&this.youtubePlayer?this.youtubePlayer.isPaused():!this.mediaElement||this.mediaElement.paused}getCurrentTime(){return this.isYouTube&&this.youtubePlayer?this.youtubePlayer.getCurrentTime():this.mediaElement?this.mediaElement.currentTime:0}getDuration(){return this.isYouTube&&this.youtubePlayer?this.youtubePlayer.getDuration():this.mediaElement&&this.mediaElement.duration||0}getLoadedFraction(){if(this.isYouTube&&this.youtubePlayer)return this.youtubePlayer.getLoadedFraction();if(this.mediaElement&&this.mediaElement.buffered.length>0){const e=this.mediaElement.buffered,t=this.mediaElement.duration;if(t>0)return e.end(e.length-1)/t}return 0}destroy(){this.updateInterval&&clearInterval(this.updateInterval),this.controls&&this.controls.destroy(),this.youtubePlayer&&this.youtubePlayer.destroy(),this.mediaElement&&this.mediaElement.remove();const e=this.wrapper&&this.wrapper.querySelector(".omexa-branding");if(e&&e.remove(),this.container.innerHTML="",this.container.className="",this.wrapper&&this.wrapper.classList.contains("omexa-player-wrapper")){const e=this.wrapper.parentNode;e&&(e.insertBefore(this.container,this.wrapper),e.removeChild(this.wrapper))}}}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll("[data-type][data-src]").forEach((e=>{e.omexaPlayer||(e.omexaPlayer=new i(e))}))})),"undefined"!=typeof window&&(window.OmexaPlayer=i)}();
